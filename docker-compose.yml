version: '3'

services:

  http-coap-semi-proxy:
    build:
      context:        ./http-coap-semi-proxy
      dockerfile:     Dockerfile
    hostname:         http-coap-semi-proxy
    container_name:   http-coap-semi-proxy
    network_mode:     host
    volumes:
      -               ./http-coap-semi-proxy/src:/usr/src/app
    ports:
      -               "5000:5000"
    env_file:
      -               env
    command:          python3 app.py

  http-to-coap-web-client:
    # service header
    image:            httpd:2.4
    hostname:         http-to-coap-web-client
    container_name:   http-to-coap-web-client
    volumes:
        -             ./http-to-coap-web-client:/usr/local/apache2/htdocs/
    ports:
      -               "5001:80"
